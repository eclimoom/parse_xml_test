<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width" initial-scale=1.0">
    <title></title>
</head>
<body class="rat">
    <div class="rat" id="notation"></div>
    <div id="saveDiv" style="display:none;"></div>

    <script src="../js/abc/jquery-1.11.1.min.js"></script>
    <script src="../js/abc/xml2abc.js"></script>
    <script src="../js/abc/abcjs-basic-min.js"></script>
    <script>


        $(document).ready(function () {


            $.get("../assets/2.musicxml", function (data) {
            // $.get("../assets/14_big.musicxml", function (data) {
                loadXml(data, true)
            });
            function loadXml(xmlData) {
                let xml_options = {
                    u: 0, b: 0, n: 0,  // unfold repeats (1), bars per line, chars per line
                    c: 0, v: 0, d: 0,  // credit text filter level (0-6), no volta on higher voice numbers (1), denominator unit length (L:)
                    m: 0, x: 0, t: 0,  // no midi, minimal midi, all midi output (0,1,2), no line breaks (1), perc, tab staff -> voicemap (1)
                    v1: 0, noped: 0,  // all directions to first voice of staff (1), no pedal directions (1)
                    stm: 0,          // translate stem elements (stem direction)
                    p: 'f', s: 0
                };
                let res = vertaal(xmlData, xml_options);
                let abcText = res[0];
                ABCJS.renderAbc("notation", abcText, { add_classes: true, clickListener: callbackFn});
            }

            let callbackFn = function (event) {
                console.log(event);
            }


        });
    </script>
</body>
</html>